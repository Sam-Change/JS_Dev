<!-- jsTestIndex -->
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>jsTestIndex</title>
</head>

<body>
  <!--畫面組成-->
  <table class="screenWidth border">
    <thead>
        <tr>
            <th colspan="2">TEST 08042340</th>
        </tr>
        <tr>
            <td><button onclick="logout()">logout</button><td>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="screenWidth20% border textFormat">目前狀態</td>
            <td class="screenWidth80% border textFormat" id="webQLStatus"></td>
        </tr>
        <tr>
            <td class="screenWidth20% border textFormat">resGetLGType</td>
            <td class="screenWidth80% border textFormat" id="resGetLGType"></td>
        </tr>
        <tr>
            <td class="screenWidth20% border textFormat">resGetQLStatus</td>
            <td class="screenWidth80% border textFormat" id="resGetQLStatus"></td>
        </tr>
        <tr>
            <td class="screenWidth20% border textFormat">resRegQLfeature</td>
            <td class="screenWidth80% border textFormat" id="resRegQLfeature"></td>
        </tr>
        <tr>
            <td class="screenWidth20% border textFormat">resRegQL</td>
            <td class="screenWidth80% border textFormat" id="resRegQL"></td>
        </tr>
        <tr>
            <td class="screenWidth20% border textFormat">resDelQL</td>
            <td class="screenWidth80% border textFormat" id="resDelQL"></td>
        </tr>
        <tr>
            <td class="screenWidth20% border textFormat">resChkQLfeature</td>
            <td class="screenWidth80% border textFormat" id="resChkQLfeature"></td>
        </tr>
        <tr>
            <td class="screenWidth20% border textFormat">resChangePattern</td>
            <td class="screenWidth80% border textFormat" id="resChangePattern"></td>
        </tr>
        <tr>
            <td class="screenWidth20% border textFormat">resSetStorageData</td>
            <td class="screenWidth80% border textFormat" id="resSetStorageData"></td>
        </tr>
        <tr>
            <td class="screenWidth20% border textFormat">resGetStorageData</td>
            <td class="screenWidth80% border textFormat" id="resGetStorageData"></td>
        </tr>
        <!-- <tr>
            <td class="screenWidth20% border textFormat">resGetStorageData資料型別</td>
            <td class="screenWidth80% border textFormat" id="resGetStorageDataType"></td>
        </tr> -->
        <tr>
            <td class="screenWidth20% border textFormat">resWebScreenShot</td>
            <td class="screenWidth80% border textFormat" id="resWebScreenShot"></td>
        </tr>
        <tr>
            <td class="screenWidth20% border textFormat">resReloadHeadshot</td>
            <td class="screenWidth80% border textFormat" id="resReloadHeadshot"></td>
        </tr>
        <tr>
            <td class="screenWidth20% border textFormat">resGetCacheData</td>
            <td class="screenWidth80% border textFormat" id="resGetCacheData"></td>
        </tr>
        <tr>
            <td><button onclick="closeFunc()">closeFunc</button><td>
        </tr>
        <tr> 
            <td><button onclick="getLGType()">getLGType</button><td>
        </tr>
        <tr> 
            <td><button onclick="getQLStatus()">getQLStatus</button><td>
        </tr>
        <tr>
            <td><button onclick="regQLfeatureBio()">regQLfeature生物 Step1</button><td>
        </tr>
        <tr>
            <td><button onclick="regQLfeaturePattern()">regQLfeature圖形 Step1</button><td>
        </tr>
        <tr>
            <td><button onclick="regQLBio()">regQL完成生物註冊 Step2</button><td>
        </tr>
        <tr>
            <td><button onclick="regQLPattern()">regQL完成圖形註冊 Step2</button><td>
        </tr>
        <tr>
            <td><button onclick="delQLByKey()">delQL本裝置</button><td>
        </tr>
        <tr>
            <td><button onclick="delQLByID()">delQL同帳號</button><td>
        </tr>
        <tr>
            <td><button onclick="chkQLfeature()">chkQLfeature驗證</button><td>
        </tr>
        <tr>
            <td><button onclick="changePattern()">changePattern改圖形鎖</button><td>
        </tr>
        <tr>
            <td><button onclick="setStorageDataA1()">setStorageData key=A 塞資料1 string</button><td>
        </tr>
        <tr>
            <td><button onclick="setStorageDataA2()">setStorageData key=A 塞資料2 int</button><td>
        </tr>
        <tr>
            <td><button onclick="setStorageDataA3()">setStorageData key=A 塞資料3 float</button><td>
        </tr>
        <tr>
            <td><button onclick="setStorageDataA4()">setStorageData key=A 塞資料4 Bool</button><td>
        </tr>
        <tr>
            <td><button onclick="setStorageDataA5()">setStorageData key=A 塞資料5 空值</button><td>
        </tr>
        <tr>
            <td><button onclick="setStorageDataA6()">setStorageData key=A 塞資料6 null</button><td>
        </tr>
        <tr>
            <td><button onclick="setStorageDataB()">setStorageData key=B 塞資料 object</button><td>
        </tr>
        <tr>
            <td><button onclick="getStorageDataA()">getStorageData 取key=A資料，格式錯誤當不清除</button><td>
        </tr>
        <tr>
            <td><button onclick="getStorageDataB()">getStorageData 取key=B資料，取完清除資料</button><td>
        </tr>
        <tr>
            <td><button onclick="webScreenShot()">webScreenShot 截圖</button><td>
        </tr>
        <tr>
            <td><button onclick="reloadHeadshot()">reloadHeadshot 通知更新大頭貼</button><td>
        </tr>
        <tr>
            <td><button onclick="startFuncToB006()">startFunc更多B006</button><td>
        </tr>
        <tr>    
            <td><button onclick="startFuncToT001()">startFunc個人化設定T001</button><td>
        </tr>
        <tr>
            <td><button onclick="getCacheData()">getCacheData</button><td>
        </tr>
        <tr>
            <td><button onclick="setCacheData()">setCacheData</button><td>
        </tr>
    </tbody>
  </table>
  
  <script>
    var ideviceCheck = isiOSDevice()

    function isiOSDevice() {
      const mobileDevice = ['iPhone', 'iPad', 'iPod']
      let isMobileDevice = mobileDevice.some(e => navigator.userAgent.match(e))
      return isMobileDevice
    }

    let packet_logoutData = {
      "callback": "",
    }

    let packet_logout = {
      "name": "logout",
      "data": JSON.stringify(packet_logoutData),
    }

    function logout() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_logout);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_logoutData);
          jstoapp.logout(action);
        }
      }
    }

    let packet_closeFuncData = {
      "callback": "",
    }

    let packet_closeFunc = {
      "name": "closeFunc",
      "data": JSON.stringify(packet_closeFuncData),
    }

    function closeFunc() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_closeFunc);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_closeFuncData);
          jstoapp.closeFunc(action);
        }
      }
    }

    let packet_getLGTypeData = {
      "callback": "resGetLGType",
    }

    let packet_getLGType = {
      "name": "getLGType",
      "data": JSON.stringify(packet_getLGTypeData),
    }

    function getLGType() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_getLGType);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_getLGTypeData);
          jstoapp.getLGType(action);
        }
      }
    }

    let packet_getQLStatusData = {
      "callback": "resGetQLStatus",
    }

    let packet_getQLStatus = {
      "name": "getQLStatus",
      "data": JSON.stringify(packet_getQLStatusData),
    }

    function getQLStatus() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_getQLStatus);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_getQLStatusData);
          jstoapp.getQLStatus(action);
        }
      }
    }

    let packet_regQLfeatureBioData = {
      "callback": "resRegQLfeature",
      "QLtype": "1",
    }

    let packet_regQLfeatureBio = {
      "name": "regQLfeature",
      "data": JSON.stringify(packet_regQLfeatureBioData),
    }

    function regQLfeatureBio() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_regQLfeatureBio);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_regQLfeatureBioData);
          jstoapp.regQLfeature(action);
        }
      }
    }

    let packet_regQLfeaturePatternData = {
      "callback": "resRegQLfeature",
      "QLtype": "2",
    }

    let packet_regQLfeaturePattern = {
      "name": "regQLfeature",
      "data": JSON.stringify(packet_regQLfeaturePatternData),
    }

    function regQLfeaturePattern() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_regQLfeaturePattern);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_regQLfeaturePatternData);
          jstoapp.regQLfeature(action);
        }
      }
    }

    let packet_regQLBioData = {
      "callback": "resRegQL",
      "QLtype": "1",
    }

    let packet_regQLBio = {
      "name": "regQL",
      "data": JSON.stringify(packet_regQLBioData),
    }

    function regQLBio() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_regQLBio);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_regQLBioData);
          jstoapp.regQL(action);
        }
      }
    }

    let packet_regQLPatternData = {
      "callback": "resRegQL",
      "QLtype": "2",
    }

    let packet_regQLPattern = {
      "name": "regQL",
      "data": JSON.stringify(packet_regQLPatternData),
    }

    function regQLPattern() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_regQLPattern);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_regQLPatternData);
          jstoapp.regQL(action);
        }
      }
    }

    let packet_delQLByKeyData = {
      "callback": "resDelQL",
      "delType": "deviceBindingKey",
    }

    let packet_delQLByKey = {
      "name": "delQL",
      "data": JSON.stringify(packet_delQLByKeyData),
    }

    function delQLByKey() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_delQLByKey);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_delQLByKeyData);
          jstoapp.delQL(action);
        }
      }
    }

    let packet_delQLByIDData = {
      "callback": "resDelQL",
      "delType": "custID",
    }

    let packet_delQLByID = {
      "name": "delQL",
      "data": JSON.stringify(packet_delQLByIDData),
    }

    function delQLByID() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_delQLByID);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_delQLByIDData);
          jstoapp.delQL(action);
        }
      }
    }

    let packet_chkQLfeatureData = {
      "callback": "resChkQLfeature",
      "AuthKey": "1234567890",
    }

    let packet_chkQLfeature = {
      "name": "chkQLfeature",
      "data": JSON.stringify(packet_chkQLfeatureData),
    }

    function chkQLfeature() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_chkQLfeature);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_chkQLfeatureData);
          jstoapp.chkQLfeature(action);
        }
      }
    }

    let packet_changePatternData = {
      "callback": "resChangePattern",
    }

    let packet_changePattern = {
      "name": "changePattern",
      "data": JSON.stringify(packet_changePatternData),
    }

    function changePattern() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_changePattern);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_changePatternData);
          jstoapp.changePattern(action);
        }
      }
    }

    let packet_setStorageDataA1Data = {
      "callback": "resSetStorageData",
      "key": "A",
      "value": "A123456789",
    }

    let packet_setStorageDataA1 = {
      "name": "setStorageData",
      "data": JSON.stringify(packet_setStorageDataA1Data),
    }

    function setStorageDataA1() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_setStorageDataA1);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_setStorageDataA1Data);
          jstoapp.setStorageData(action);
        }
      }
    }

    let packet_setStorageDataA2Data = {
      "callback": "resSetStorageData",
      "key": "A",
      "value": 123456789,
    }

    let packet_setStorageDataA2 = {
      "name": "setStorageData",
      "data": JSON.stringify(packet_setStorageDataA2Data),
    }

    function setStorageDataA2() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_setStorageDataA2);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_setStorageDataA2Data);
          jstoapp.setStorageData(action);
        }
      }
    }

    let packet_setStorageDataA3Data = {
      "callback": "resSetStorageData",
      "key": "A",
      "value": 3.14159,
    }

    let packet_setStorageDataA3 = {
      "name": "setStorageData",
      "data": JSON.stringify(packet_setStorageDataA3Data),
    }

    function setStorageDataA3() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_setStorageDataA3);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_setStorageDataA3Data);
          jstoapp.setStorageData(action);
        }
      }
    }

    let packet_setStorageDataA4Data = {
      "callback": "resSetStorageData",
      "key": "A",
      "value": true,
    }

    let packet_setStorageDataA4 = {
      "name": "setStorageData",
      "data": JSON.stringify(packet_setStorageDataA4Data),
    }

    function setStorageDataA4() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_setStorageDataA4);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_setStorageDataA4Data);
          jstoapp.setStorageData(action);
        }
      }
    }

    let packet_setStorageDataA5Data = {
      "callback": "resSetStorageData",
      "key": "A",
      "value": "",
    }

    let packet_setStorageDataA5 = {
      "name": "setStorageData",
      "data": JSON.stringify(packet_setStorageDataA5Data),
    }

    function setStorageDataA5() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_setStorageDataA5);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_setStorageDataA5Data);
          jstoapp.setStorageData(action);
        }
      }
    }

    let packet_setStorageDataA6Data = {
      "callback": "resSetStorageData",
      "key": "A",
      "value": null,
    }

    let packet_setStorageDataA6 = {
      "name": "setStorageData",
      "data": JSON.stringify(packet_setStorageDataA6Data),
    }

    function setStorageDataA6() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_setStorageDataA6);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_setStorageDataA6Data);
          jstoapp.setStorageData(action);
        }
      }
    }

    let packet_setStorageDataBDataValue = {
      "A": "123",
      "B": 456,
      "C": null,
      "D": true,
      "E": 3.14169,
    }

    let packet_setStorageDataBData = {
      "callback": "resSetStorageData",
      "key": "B",
      "value": JSON.stringify(packet_setStorageDataBDataValue),
    }

    let packet_setStorageDataB = {
      "name": "setStorageData",
      "data": JSON.stringify(packet_setStorageDataBData),
    }

    function setStorageDataB() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_setStorageDataB);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_setStorageDataBData);
          jstoapp.setStorageData(action);
        }
      }
    }

    let packet_getStorageDataAData = {
      "callback": "resGetStorageData",
      "key": "A",
      "remove": "true",
    }

    let packet_getStorageDataA = {
      "name": "getStorageData",
      "data": JSON.stringify(packet_getStorageDataAData),
    }

    function getStorageDataA() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_getStorageDataA);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_getStorageDataAData);
          jstoapp.getStorageData(action);
        }
      }
    }

    let packet_getStorageDataBData = {
      "callback": "resGetStorageData",
      "key": "B",
      "remove": true,
    }

    let packet_getStorageDataB = {
      "name": "getStorageData",
      "data": JSON.stringify(packet_getStorageDataBData),
    }

    function getStorageDataB() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_getStorageDataB);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_getStorageDataBData);
          jstoapp.getStorageData(action);
        }
      }
    }

    let packet_webScreenShotData = {
      "callback": "resWebScreenShot"
    }

    let packet_webScreenShot = {
      "name": "webScreenShot",
      "data": JSON.stringify(packet_webScreenShotData),
    }

    function webScreenShot() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_webScreenShot);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_webScreenShotData);
          jstoapp.webScreenShot(action);
        }
      }
    }

    let packet_reloadHeadshotData = {
      "callback": "resReloadHeadshot"
    }

    let packet_reloadHeadshot = {
      "name": "reloadHeadshot",
      "data": JSON.stringify(packet_reloadHeadshotData),
    }

    function reloadHeadshot() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_reloadHeadshot);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_reloadHeadshotData);
          jstoapp.reloadHeadshot(action);
        }
      }
    }

    let packet_startFuncToB006Data = {
      "funcID": "B006",
      "funcParams": "vbwy9g809-i403kgrwhbivuhew0j9gv",
      "keepData": "83579809g35iuhruibndoivmr",
      "callback": "",
    }

    let packet_startFuncToB006 = {
      "name": "startFunc",
      "data": JSON.stringify(packet_startFuncToB006Data),
    }

    function startFuncToB006() { 
      if (ideviceCheck) {
        var action = JSON.stringify(packet_startFuncToB006);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_startFuncToB006Data);
          jstoapp.startFunc(action);
        }
      }
    }

    let packet_startFuncToT001Data = {
      "funcID": "T001",
      "funcParams": "vbwy9g809-i403kgrwhbivuhew0j9gv",
      "keepData": "83579809g35iuhruibndoivmr",
      "callback": "",
    }

    let packet_startFuncToT001 = {
      "name": "startFunc",
      "data": JSON.stringify(packet_startFuncToT001Data),
    }

    function startFuncToT001() { 
      if (ideviceCheck) {
        var action = JSON.stringify(packet_startFuncToT001);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_startFuncToT001Data);
          jstoapp.startFunc(action);
        }
      }
    }

    let packet_getCacheDataData = {
      "callback": "resGetCacheData",
    }

    let packet_getCacheData = {
      "name": "getCacheData",
      "data": JSON.stringify(packet_getCacheDataData),
    }

    function getCacheData() {
      if (ideviceCheck) {
        var action = JSON.stringify(packet_getCacheData);
        window.webkit.messageHandlers.jstoapp.postMessage(action);
      }
      else {
        if (jstoapp) {
          var action = JSON.stringify(packet_getCacheDataData);
          jstoapp.getCacheData(action);
        }
      }
    }

    // 收JS
    function resGetLGType(data) {
      var statusName = ""
      if (data["LGType"] == "0") {
        statusName = "未登入"
      }
      else if (data["LGType"] == "1") {
        statusName = "訪客登入"
      }
      else if (data["LGType"] == "2") {
        statusName = "快速登入"
      }
      else if (data["LGType"] == "3") {
        statusName = "帳號登入"
      }
      document.getElementById("resGetLGType").innerText = "收到LGType:" + data["LGType"] + ", " + statusName;
    }

    function resGetQLStatus(data) {
      document.getElementById("resGetQLStatus").innerText = "收到result:" + data["result"] + ", message:" + data["message"] + ", QLStatus:" + data["QLStatus"] + ", QLType:" + data["QLType"];
      let result = data["result"]
      let QLStatus = data["QLStatus"]
      let QLType = data["QLType"]

      let now = new Date();
      let updateTime = now.getUTCHours()+8 + ":" + now.getMinutes() + ":" + now.getSeconds() + "." + now.getMilliseconds();

      if (result == "true") {
        if (QLStatus == "0") {
          document.getElementById("webQLStatus").innerText = '未綁定' + '(' + updateTime + ')';
        }
        else if (QLStatus == "1") {
          document.getElementById("webQLStatus").innerText = '已綁定' + '(' + updateTime + ')';
        }
        else if (QLStatus == "2") {
          document.getElementById("webQLStatus").innerText = '已鎖定' + '(' + updateTime + ')';
        }
        else if (QLStatus == "3") {
          document.getElementById("webQLStatus").innerText = '綁他裝置1107' + '(' + updateTime + ')';
        }
        else if (QLStatus == "4") {
          document.getElementById("webQLStatus").innerText = '綁他帳號1106' + '(' + updateTime + ')';
        }
      }
      else {
        document.getElementById("webQLStatus").innerText = '未知狀態' + '(' + updateTime + ')';
      }
    }

    function resRegQLfeature(data) {
      document.getElementById("resRegQLfeature").innerText = "收到result:" + data["result"] + ", message:" + data["message"];

      let now = new Date();
      let updateTime = now.getUTCHours()+8 + ":" + now.getMinutes() + ":" + now.getSeconds() + "." + now.getMilliseconds();

      if (data["result"] == "true") {
        document.getElementById("webQLStatus").innerText = '註冊第一階段成功' + '(' + updateTime + ')';
      }
      else {
        document.getElementById("webQLStatus").innerText = '註冊第一階段失敗' + '(' + updateTime + ')';
      }
    }

    function resRegQL(data) {
      document.getElementById("resRegQL").innerText = "收到result:" + data["result"] + ", message:" + data["message"];

      let now = new Date();
      let updateTime = now.getUTCHours()+8 + ":" + now.getMinutes() + ":" + now.getSeconds() + "." + now.getMilliseconds();

      if (data["result"] == "true") {
        document.getElementById("webQLStatus").innerText = '已綁定' + '(' + updateTime + ')';
      }
      else {
        document.getElementById("webQLStatus").innerText = '註冊第二階段失敗' + '(' + updateTime + ')';
      }
    }

    function resDelQL(data) {
      document.getElementById("resDelQL").innerText = "收到result:" + data["result"] + ", message:" + data["message"];

      let now = new Date();
      let updateTime = now.getUTCHours()+8 + ":" + now.getMinutes() + ":" + now.getSeconds() + "." + now.getMilliseconds();

      if (data["result"] == "true") {
        document.getElementById("webQLStatus").innerText = '解綁成功' + '(' + updateTime + ')';
      }
      else {
        document.getElementById("webQLStatus").innerText = '解綁失敗' + '(' + updateTime + ')';
      }
    }

    function resChkQLfeature(data) {
      document.getElementById("resChkQLfeature").innerText = "收到result:" + data["result"] + ", message:" + data["message"];

      let now = new Date();
      let updateTime = now.getUTCHours()+8 + ":" + now.getMinutes() + ":" + now.getSeconds() + "." + now.getMilliseconds();

      if (data["result"] == "true") {
        document.getElementById("webQLStatus").innerText = '驗證成功' + '(' + updateTime + ')';
      }
      else {
        document.getElementById("webQLStatus").innerText = '驗證失敗' + '(' + updateTime + ')';
      }
    }

    function resChangePattern(data) {
      document.getElementById("resChangePattern").innerText = "收到result:" + data["result"] + ", message:" + data["message"];

      let now = new Date();
      let updateTime = now.getUTCHours()+8 + ":" + now.getMinutes() + ":" + now.getSeconds() + "." + now.getMilliseconds();

      if (data["result"] == "true") {
        document.getElementById("webQLStatus").innerText = '驗證成功' + '(' + updateTime + ')';
      }
      else {
        document.getElementById("webQLStatus").innerText = '驗證失敗' + '(' + updateTime + ')';
      }
    }

    function resSetStorageData(data) {
      document.getElementById("resSetStorageData").innerText = "收到result:" + data["result"] + ", message:" + data["message"];
    }

    function resGetStorageData(data) {
      document.getElementById("resGetStorageData").innerText = "收到result:" + data["result"] + ", message:" + data["message"] + ", value:" + data["value"];

      // let value = data["value"]
      // if (value instanceof String) {
      //   console.log("是String")
      //   document.getElementById("resGetStorageDataType").innerText = "String";
      // }
      // else if (value instanceof Number) {
      //   console.log("是Number")
      //   document.getElementById("resGetStorageDataType").innerText = "Number";
      // }
      // else if (value instanceof Boolean) {
      //   console.log("是Boolean")
      //   document.getElementById("resGetStorageDataType").innerText = "Boolean";
      // }
      // else if (value instanceof Array) {
      //   console.log("是Array")
      //   document.getElementById("resGetStorageDataType").innerText = "Array";
      // }
      // else if (value instanceof Object) {
      //   console.log("是Object")
      //   document.getElementById("resGetStorageDataType").innerText = "Object";
      // }
      // else {
      //   console.log("都不是")
      // }
    }

    function resWebScreenShot(data) {
      document.getElementById("resWebScreenShot").innerText = "收到result:" + data["result"] + ", message:" + data["message"];
    }

    function resReloadHeadshot(data) {
      document.getElementById("resReloadHeadshot").innerText = "收到result:" + data["result"] + ", message:" + data["message"];
    }
    
    function showFunc(data) {
      window.location.assign(data["url"])
    }

    function resGetCacheData(data) {
      document.getElementById("resGetCacheData").innerText = "收到result:" + data["result"] + ", message:" + data["message"] + ", strCachedata:" + data["strCachedata"];
    }

    let packet_setCacheDataData = {"banks":null,"branches":[{"branchNo":"000","branchCode":"0000","branchName":"總行"},{"branchNo":"001","branchCode":"0012","branchName":"營業部"},{"branchNo":"002","branchCode":"0023","branchName":"台北城中分行"},{"branchNo":"003","branchCode":"0034","branchName":"台北逸仙分行"},{"branchNo":"004","branchCode":"0045","branchName":"桃園分行"},{"branchNo":"005","branchCode":"0056","branchName":"台中公益分行"},{"branchNo":"006","branchCode":"0067","branchName":"台南分行"},{"branchNo":"007","branchCode":"0078","branchName":"高雄五福分行"},{"branchNo":"009","branchCode":"0090","branchName":"板橋南雅分行"},{"branchNo":"010","branchCode":"0104","branchName":"新竹巨城分行"},{"branchNo":"011","branchCode":"0115","branchName":"高雄中正分行"},{"branchNo":"012","branchCode":"0126","branchName":"信託部"},{"branchNo":"013","branchCode":"0137","branchName":"國外部"},{"branchNo":"014","branchCode":"0148","branchName":"三重分行"},{"branchNo":"015","branchCode":"0159","branchName":"台北松江分行"},{"branchNo":"016","branchCode":"0160","branchName":"永康分行"},{"branchNo":"017","branchCode":"0171","branchName":"中壢分行"},{"branchNo":"018","branchCode":"0182","branchName":"國際金融業務分行"},{"branchNo":"019","branchCode":"0193","branchName":"永和分行"},{"branchNo":"020","branchCode":"0207","branchName":"台北東門分行"},{"branchNo":"021","branchCode":"0218","branchName":"高雄文化中心分行"},{"branchNo":"022","branchCode":"0229","branchName":"台中文心分行"},{"branchNo":"023","branchCode":"0230","branchName":"新竹科學園區分行"},{"branchNo":"024","branchCode":"0241","branchName":"桃園大興分行"},{"branchNo":"025","branchCode":"0252","branchName":"台北南門分行"},{"branchNo":"026","branchCode":"0263","branchName":"台北新莊分行"},{"branchNo":"027","branchCode":"0274","branchName":"台北松山分行"},{"branchNo":"028","branchCode":"0285","branchName":"新店分行"},{"branchNo":"029","branchCode":"0296","branchName":"台北重慶分行"},{"branchNo":"030","branchCode":"0300","branchName":"竹北分行"},{"branchNo":"031","branchCode":"0311","branchName":"台北忠孝分行"},{"branchNo":"032","branchCode":"0322","branchName":"林口分行"},{"branchNo":"033","branchCode":"0333","branchName":"板橋文化分行"},{"branchNo":"034","branchCode":"0344","branchName":"台中自由分行"},{"branchNo":"035","branchCode":"0355","branchName":"新莊富國分行"},{"branchNo":"036","branchCode":"0366","branchName":"台北永吉分行"},{"branchNo":"038","branchCode":"0388","branchName":"桃園大有分行"},{"branchNo":"039","branchCode":"0399","branchName":"台北金湖簡易型分行"},{"branchNo":"040","branchCode":"0403","branchName":"台北農安簡易型分行"},{"branchNo":"041","branchCode":"0414","branchName":"台北中山分行"},{"branchNo":"042","branchCode":"0425","branchName":"台北古亭分行"},{"branchNo":"043","branchCode":"0436","branchName":"台北信義分行"},{"branchNo":"045","branchCode":"0458","branchName":"蘆洲分行"},{"branchNo":"046","branchCode":"0469","branchName":"中和分行"},{"branchNo":"047","branchCode":"0470","branchName":"板橋中正分行"},{"branchNo":"048","branchCode":"0481","branchName":"新竹經國分行"},{"branchNo":"049","branchCode":"0492","branchName":"台中大雅分行"},{"branchNo":"050","branchCode":"0506","branchName":"台中朝富分行"},{"branchNo":"051","branchCode":"0517","branchName":"南投分行"},{"branchNo":"052","branchCode":"0528","branchName":"嘉義分行"},{"branchNo":"054","branchCode":"0540","branchName":"高雄博愛分行"},{"branchNo":"056","branchCode":"0562","branchName":"大里分行"},{"branchNo":"057","branchCode":"0573","branchName":"崇德分行"},{"branchNo":"058","branchCode":"0584","branchName":"板橋大遠百分行"},{"branchNo":"059","branchCode":"0595","branchName":"台北敦南分行"},{"branchNo":"060","branchCode":"0609","branchName":"雙和分行"},{"branchNo":"061","branchCode":"0610","branchName":"台北南京東路分行"},{"branchNo":"062","branchCode":"0621","branchName":"台北大稻埕分行"},{"branchNo":"063","branchCode":"0632","branchName":"石牌分行"},{"branchNo":"065","branchCode":"0654","branchName":"台北復興簡易型分行"},{"branchNo":"801","branchCode":"9004","branchName":"香港分行"}],"accounts":[{"acctType":"M","accountNo":"04300499099455","branchName":"台北信義分行","details":[{"balance":18951,"currency":"TWD","rate":1.185,"interest":342}],"alias":"台幣帳戶","dgType":"  ","transable":true,"bindType":0,"showName":"台幣帳戶","bonus":{"agrdTfrInterLimitLeft":3000000,"freeWithdrawRemain":6,"freeTransferRemain":6,"dLimitLeft":100000,"mLimitLeft":200000,"agrdTfrSelfLimitLeft":5000000,"freeTransfer":6,"freeWithdraw":6,"isVIP":false,"bonusQuota":0}},{"acctType":"C","accountNo":"04300490003737","branchName":"台北信義分行","details":[{"balance":0,"currency":"TWD"}],"alias":"存錢計畫:mett","dgType":"  ","transable":true,"bindType":0,"showName":"存錢計畫:mett"},{"acctType":"C","accountNo":"04300491006025","branchName":"台北信義分行","details":[{"balance":0,"currency":"TWD"}],"alias":"臺幣子帳戶","dgType":"  ","transable":true,"bindType":0,"showName":"臺幣子帳戶"},{"acctType":"C","accountNo":"04300490003623","branchName":"台北信義分行","details":[{"balance":516,"currency":"TWD"}],"alias":"社群帳本:Nett","dgType":"  ","transable":true,"bindType":1,"showName":"Newwwwlol"},{"acctType":"C","accountNo":"04300490003676","branchName":"台北信義分行","details":[{"balance":0,"currency":"TWD"}],"alias":"社群帳本:t","dgType":"  ","transable":true,"bindType":0,"showName":"社群帳本:t"},{"acctType":"C","accountNo":"04300490003643","branchName":"台北信義分行","details":[{"balance":47,"currency":"TWD"}],"alias":"iojn","dgType":"  ","transable":true,"bindType":1,"showName":"iojn"},{"acctType":"C","accountNo":"04300490003686","branchName":"台北信義分行","details":[{"balance":0,"currency":"TWD"}],"alias":"臺幣子帳戶","dgType":"  ","transable":true,"bindType":0,"showName":"臺幣子帳戶"},{"acctType":"C","accountNo":"04300490003463","branchName":"台北信義分行","details":[{"balance":39533,"currency":"TWD"}],"alias":"haha1","dgType":"  ","transable":true,"bindType":1,"showName":"haha1"},{"acctType":"C","accountNo":"04300490003692","branchName":"台北信義分行","details":[{"balance":0,"currency":"TWD"}],"alias":"臺幣子帳戶","dgType":"  ","transable":true,"bindType":0,"showName":"臺幣子帳戶"}],"freqAccts":null,"agreAccts":null}

    function setCacheData() {
      return JSON.stringify(packet_setCacheDataData)
    }

  </script>
</body>
  
<style>
  .textFormat {
    font-size: 14;
  }

  .screenWidth {
    width: screen.width;
  }
  
  .screenWidth20% {
    width: screen.width*20%;
  }

  .screenWidth80% {
    width: screen.width*80%;
  }

  .border {
    border: 1px solid #333;
  }

</style>
  
</html>
